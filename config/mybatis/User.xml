<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.juyi.dao.UserDao">
	<!-- 增加一个用户 -->
	 <insert id="saveUser" >
	 	insert into 
	 		 user(name,tel,course,province,city,area,type,date_time)
	     values(#{name},#{tel},#{course},#{province},#{city},#{area},#{type},#{dateTime})
	 </insert>	
	 <!-- 关系映射 -->
	 <resultMap type="com.juyi.model.User" id="findUser">
	 	<id column="u_id" property="uid"/>
	 	<result column="name" property="name"/>
	 	<result column="tel" property="tel"/>
	 	<result column="course" property="course"/>
	 	<result column="province" property="province"/>
	 	<result column="city" property="city"/>
	 	<result column="area" property="area"/>
	 	<result column="type" property="type"/>
	 	<result column="date_time" property="dateTime"/>
	 </resultMap>
	 
	 <!-- 查询所有客户信息 -->
	 <select id="findAllUser" resultMap="findUser">
	 	SELECT * FROM USER  ORDER BY USER.`u_id` DESC limit #{m},#{n}
	 </select>
	 
	 <!-- 查询所有总记录数 -->
	 <select id="findConuntUser" resultType="Integer">
	 	 SELECT COUNT(*) FROM USER
	 </select>
	 
	 <!-- 删除一个或者多个客户 -->
	 <delete id="deleteUser" parameterType="Integer">
	 	delete from user where u_id in
		 	<foreach collection="array" item="a" open="(" separator="," close=")">
		 			#{a}
		 	</foreach>
	 </delete>
</mapper>